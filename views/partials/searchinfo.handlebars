<article>
    <div class="card bg-dark">
        <div class="card-header">
            <h3>
                <a id="{{id}}" class="title text-white" href="{{url}}"  target="_blank">
                    {{title}}
                </a>
            </h3>
        </div>
        <div class="card-body">
            <blockquote class="mb-0">
                <p>{{company_name}}</p>
                <p>{{location}}</p>
            </blockquote>
        <button id="delete-{{id}}" type="submit" class="btn btn-link bg-danger text-white delete-one-job">Delete this job?</button>
        </div>
    </div>
</article>

<script>document.querySelector("#delete-{{id}}").addEventListener('click', async function(event) {
    event.preventDefault();

    let id = this.parentElement.parentElement.querySelector('.title').outerHTML.split('"')[1]

    const response = await fetch(`/api/search/${id}`, {
        method: 'DELETE'
    })

    if (response.ok) {
         document.location.reload();
    } else {
        alert(response.statusText)
    }})
</script>